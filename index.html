<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            height: 100vh;
            color: white;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Login Page */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        
        .login-box {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            width: 90%;
            max-width: 400px;
            animation: fadeIn 1s;
        }
        
        .login-title {
            font-family: 'Great Vibes', cursive;
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2.5rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px 20px;
            border: none;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .input-group input:focus {
            background: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            border: none;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .error-message {
            color: #ff6b6b;
            margin-top: 1rem;
            text-align: center;
            display: none;
        }
        
        /* Slideshow Container */
        .slideshow-container {
            display: none;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide h1 {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s;
        }
        
        .slide p {
            font-size: 1.5rem;
            max-width: 800px;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* Message Typing Animation */
        .message-container {
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 90%;
            margin: 2rem auto;
            word-wrap: break-word;
        }
        
        .typing-effect {
          border-right: 2px solid white;
          animation: blinkCursor 0.75s step-end infinite;
          overflow-wrap: break-word; /* Pastikan kata panjang terpotong */
          white-space: normal; /* Biar teks bisa wrap ke bawah */
          width: 100%; /* Ambil penuh lebar container */
          max-width: 100%;
          margin: 0 auto;
          font-size: 1.5rem; /* default font size */
          text-align: center;
}

/* Ukuran font lebih kecil di layar sempit */
@media (max-width: 768px) {
    .typing-effect {
        font-size: 1.2rem;
        padding: 0 10px; /* kasih ruang kiri-kanan */
    }
}

@media (max-width: 480px) {
    .typing-effect {
        font-size: 1rem;
        padding: 0 5px;
    }
}

        
        @keyframes blinkCursor {
            from, to { border-color: transparent; }
            50% { border-color: white; }
        }
        
        /* Gift Box */
        .gift-box {
            position: relative;
            width: 35vmin;
            height: 30vmin;
            margin: 2rem auto;
            cursor: pointer;
        }

        /* Pita Vertikal */
        .gift-box::before {
            content: '';
            position: absolute;
            width: 7vmin;
            height: 100%;
            background: #f1c40f; /* Warna pita emas */
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }
        
        .gift-lid {
            width: 38vmin; /* Sedikit lebih lebar dari badan kado */
            height: 8vmin;
            background: #c0392b; /* Merah lebih gelap */
            position: absolute;
            top: 0;
            left: -1.5vmin; /* Agar center dengan badan kado */
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform-origin: bottom;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Pita Horizontal di Tutup */
        .gift-lid::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 7vmin;
            background: #f1c40f;
            top: 50%;
            transform: translateY(-50%);
        }

        .gift-body {
            width: 200px;
            width: 35vmin;
            height: 22vmin;
            position: absolute;
            bottom: 0;
            left: 0;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .gift-bow {
            background: #f1c40f;
            position: absolute;
            width: 4vmin;
            height: 4vmin;
            border-radius: 50%;
            top: -3.5vmin;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
        }

        /* Loop Pita */
        .gift-bow::before, .gift-bow::after {
            content: '';
            position: absolute;
            width: 8vmin;
            height: 8vmin;
            border: 1.8vmin solid #f1c40f;
            border-radius: 50%;
            top: -5vmin;
        }
        .gift-bow::before { left: -8vmin; transform: rotate(-45deg); }
        .gift-bow::after { left: 3.5vmin; transform: rotate(45deg); }

        .gift-box:hover .gift-lid {
            transform: translateY(-10px);
        }
        
        .gift-box.opened .gift-lid {
            transform: translateY(-70px) rotateX(-90deg);
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 1;
        }
        
        /* Photo Frame */
        .photo-frame {
            width: 450px;
            height: 450px;
            border: 10px solid white;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin: 2rem auto;
            position: relative;
            background: white;
        }
        
        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        
        /* Music Control */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            backdrop-filter: blur(5px);
        }
        
        .music-control i {
            font-size: 1.5rem;
            color: white;
        }

        #confetti-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          pointer-events: none;
          z-index: 999; /* pastikan di atas konten */
        }        
        
        /* Animations */

        #animations-container {
          position: fixed; /* Ubah ke fixed agar menutupi seluruh layar */
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh; /* Penuhi tinggi layar */
          overflow: hidden;
          pointer-events: none; /* biar klik nggak terganggu */
          z-index: 998; /* Di bawah confetti tapi di atas background */
        }
        
        .flower {
            position: absolute;
            /* Animasi utama: mekar, lalu menghilang */
            animation: bloom-and-fade 7s ease-out forwards;
        }
        
        .flower svg {
            width: 100%;
            height: 100%;
            /* Animasi tambahan: sedikit berputar saat mekar */
            animation: gentle-spin 10s linear infinite;
        }
        
        /* Keyframes untuk animasi MEKAR lalu MENGHILANG */
        @keyframes bloom-and-fade {
            0% {
                transform: scale(0); /* Mulai dari ukuran 0 (kuncup) */
                opacity: 1;
            }
            20% { transform: scale(1.2); } /* Mekar cepat ke ukuran sedikit lebih besar */
            40% {
                transform: scale(1); /* Kembali ke ukuran normal */
                opacity: 1;
            }
            80% { opacity: 1; } /* Tetap terlihat */
            100% {
                opacity: 0; /* Menghilang perlahan */
                transform: scale(1) translateY(-50px); /* Sedikit naik saat menghilang */
            }
        }
        
        /* Keyframes untuk animasi putaran halus */
        @keyframes gentle-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Name Input Popup */
        .name-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .name-popup-content {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            animation: popIn 0.5s;
        }
        
        .name-popup h2 {
            margin-bottom: 1.5rem;
            color: #333;
            font-family: 'Great Vibes', cursive;
        }
        
        .name-popup input {
            width: 100%;
            padding: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .name-popup button {
            padding: 12px 30px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .name-popup button:hover {
            transform: scale(1.05);
        }
        
        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .slide h1 {
                font-size: 2.5rem;
            }
            
            .slide p {
                font-size: 1.2rem;
            }
            
            .photo-frame {
                width: 280px;
                height: 280px;
            }
            
            /* Aturan gift-box untuk mobile tidak lagi diperlukan karena sudah responsif */
        }
    </style>
    <style>
        /* CSS from flower.html - START */
        /* Styles for the blooming flower overlay */
        #blooming-flower-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2000;
            perspective: 1000px;
        }
        #blooming-flower-overlay.active { display: block; }
        #blooming-flower-overlay .night {
            position: fixed; left: 50%; top: 0; transform: translateX(-50%);
            width: 100%; height: 100%;
            background-color: #000;
        }
        #blooming-flower-overlay .flowers { position: relative; transform: scale(0.9); display: flex; align-items: flex-end; justify-content: center; min-height: 100vh; }
        #blooming-flower-overlay .flower { position: absolute; bottom: 10vmin; transform-origin: bottom center; z-index: 10; --fl-speed: 0.8s; }
        #blooming-flower-overlay .flower--1 { animation: moving-flower-1 4s linear infinite; }
        #blooming-flower-overlay .flower--1 .flower__line { height: 70vmin; animation-delay: 0.3s; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 1.6s backwards; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 1.4s backwards; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 1.2s backwards; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1s backwards; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--5 { animation: blooming-leaf-right var(--fl-speed) 1.8s backwards; }
        #blooming-flower-overlay .flower--1 .flower__line__leaf--6 { animation: blooming-leaf-left var(--fl-speed) 2s backwards; }
        #blooming-flower-overlay .flower--2 { left: 50%; transform: rotate(20deg); animation: moving-flower-2 4s linear infinite; }
        #blooming-flower-overlay .flower--2 .flower__line { height: 60vmin; animation-delay: 0.6s; }
        #blooming-flower-overlay .flower--2 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 1.9s backwards; }
        #blooming-flower-overlay .flower--2 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 1.7s backwards; }
        #blooming-flower-overlay .flower--2 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 1.5s backwards; }
        #blooming-flower-overlay .flower--2 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1.3s backwards; }
        #blooming-flower-overlay .flower--3 { left: 50%; transform: rotate(-15deg); animation: moving-flower-3 4s linear infinite; }
        #blooming-flower-overlay .flower--3 .flower__line { animation-delay: 0.9s; }
        #blooming-flower-overlay .flower--3 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 2.5s backwards; }
        #blooming-flower-overlay .flower--3 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 2.3s backwards; }
        #blooming-flower-overlay .flower--3 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 2.1s backwards; }
        #blooming-flower-overlay .flower--3 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1.9s backwards; }
        #blooming-flower-overlay .flower__leafs { position: relative; animation: blooming-flower 2s backwards; }
        #blooming-flower-overlay .flower__leafs--1 { animation-delay: 1.1s; }
        #blooming-flower-overlay .flower__leafs--2 { animation-delay: 1.4s; }
        #blooming-flower-overlay .flower__leafs--3 { animation-delay: 1.7s; }
        #blooming-flower-overlay .flower__leafs::after { content: ""; position: absolute; left: 0; top: 0; transform: translate(-50%, -100%); width: 8vmin; height: 8vmin; background-color: #6bf0ff; filter: blur(10vmin); }
        #blooming-flower-overlay .flower__leaf { position: absolute; bottom: 0; left: 50%; width: 8vmin; height: 11vmin; border-radius: 51% 49% 47% 53%/44% 45% 55% 69%; background-color: #a7ffee; background-image: linear-gradient(to top, #54b8aa, #a7ffee); transform-origin: bottom center; opacity: 0.9; box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5); }
        #blooming-flower-overlay .flower__leaf--1 { transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg); }
        #blooming-flower-overlay .flower__leaf--2 { transform: translate(-50%, -4%) rotateX(40deg); }
        #blooming-flower-overlay .flower__leaf--3 { transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg); }
        #blooming-flower-overlay .flower__leaf--4 { width: 8vmin; height: 8vmin; transform-origin: bottom left; border-radius: 4vmin 10vmin 4vmin 4vmin; transform: translate(0%, 18%) rotateX(70deg) rotate(-43deg); background-image: linear-gradient(to top, #39c6d6, #a7ffee); z-index: 1; opacity: 0.8; }
        #blooming-flower-overlay .flower__white-circle { position: absolute; left: -3.5vmin; top: -3vmin; width: 9vmin; height: 4vmin; border-radius: 50%; background-color: #fff; }
        #blooming-flower-overlay .flower__white-circle::after { content: ""; position: absolute; left: 50%; top: 45%; transform: translate(-50%, -50%); width: 60%; height: 60%; border-radius: inherit; background-image: linear-gradient(90deg, #ffeb12, #ffce00); }
        #blooming-flower-overlay .flower__line { height: 55vmin; width: 1.5vmin; background-image: linear-gradient( to left, rgba(0, 0, 0, 0.2), transparent, rgba(255, 255, 255, 0.2) ), linear-gradient(to top, transparent 10%, #14757a, #39c6d6); box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.5); animation: grow-flower-tree 4s backwards; }
        #blooming-flower-overlay .flower__line__leaf { --w: 7vmin; --h: calc(var(--w) + 2vmin); position: absolute; top: 20%; left: 90%; width: var(--w); height: var(--h); border-top-right-radius: var(--h); border-bottom-left-radius: var(--h); background-image: linear-gradient( to top, rgba(20, 117, 122, 0.4), #39c6d6 ); }
        #blooming-flower-overlay .flower__line__leaf--1 { transform: rotate(70deg) rotateY(30deg); }
        #blooming-flower-overlay .flower__line__leaf--2 { top: 45%; transform: rotate(70deg) rotateY(30deg); }
        #blooming-flower-overlay .flower__line__leaf--3, #blooming-flower-overlay .flower__line__leaf--4, #blooming-flower-overlay .flower__line__leaf--6 { border-top-right-radius: 0; border-bottom-left-radius: 0; border-top-left-radius: var(--h); border-bottom-right-radius: var(--h); left: -460%; top: 12%; transform: rotate(-70deg) rotateY(30deg); }
        #blooming-flower-overlay .flower__line__leaf--4 { top: 40%; }
        #blooming-flower-overlay .flower__line__leaf--5 { top: 0; transform-origin: left; transform: rotate(70deg) rotateY(30deg) scale(0.6); }
        #blooming-flower-overlay .flower__line__leaf--6 { top: -2%; left: -450%; transform-origin: right; transform: rotate(-70deg) rotateY(30deg) scale(0.6); }
        #blooming-flower-overlay .grow-ans { animation: grow-ans 2s var(--d) backwards; }
        #blooming-flower-overlay .flower__g-long { --w: 2vmin; --h: 6vmin; --c: #159faa; position: absolute; bottom: 25vmin; left: -42vmin; transform-origin: bottom left; }
        #blooming-flower-overlay .long-g .leaf { --w: 15vmin; --h: 40vmin; --c: #1aaa15; position: absolute; bottom: 0; width: var(--w); height: var(--h); border-top-left-radius: 100%; border-left: 2vmin solid var(--c); -webkit-mask-image: linear-gradient( to top, transparent 20%, #000 ); transform-origin: bottom center; }
        #blooming-flower-overlay .long-g .leaf--0 { left: 2vmin; animation: leaf-ans-1 4s linear infinite; }
        #blooming-flower-overlay .long-g .leaf--1 { --w: 5vmin; --h: 60vmin; animation: leaf-ans-1 4s linear infinite; }
        #blooming-flower-overlay .long-g .leaf--2 { --w: 10vmin; --h: 40vmin; left: -0.5vmin; bottom: 5vmin; transform-origin: bottom left; transform: rotateY(-180deg); animation: leaf-ans-2 3s linear infinite; }
        #blooming-flower-overlay .long-g .leaf--3 { --w: 5vmin; --h: 30vmin; left: -1vmin; bottom: 3.2vmin; transform-origin: bottom left; transform: rotate(-10deg) rotateY(-180deg); animation: leaf-ans-3 3s linear infinite; }
        #blooming-flower-overlay .not-loaded * { animation-play-state: paused !important; }
        #blooming-flower-overlay .final-gift-button {
            position: absolute; bottom: 5vh; left: 50%; transform: translateX(-50%);
            padding: 15px 35px; background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: bold;
            cursor: pointer; text-decoration: none; z-index: 999;
            opacity: 0; animation: fadeInButton 1s 5s forwards;
        }
        @keyframes grow-ans { 0% { transform: scale(0); opacity: 0; } }
        @keyframes moving-flower-1 { 0%, 100% { transform: rotate(2deg); } 50% { transform: rotate(-2deg); } }
        @keyframes moving-flower-2 { 0%, 100% { transform: rotate(18deg); } 50% { transform: rotate(14deg); } }
        @keyframes moving-flower-3 { 0%, 100% { transform: rotate(-18deg); } 50% { transform: rotate(-20deg) rotateY(-10deg); } }
        @keyframes blooming-leaf-right { 0% { transform-origin: left; transform: rotate(70deg) rotateY(30deg) scale(0); } }
        @keyframes blooming-leaf-left { 0% { transform-origin: right; transform: rotate(-70deg) rotateY(30deg) scale(0); } }
        @keyframes grow-flower-tree { 0% { height: 0; border-radius: 1vmin; } }
        @keyframes blooming-flower { 0% { transform: scale(0); } }
        @keyframes leaf-ans-1 { 0%, 100% { transform: rotate(-5deg) scale(1); } 50% { transform: rotate(5deg) scale(1.1); } }
        @keyframes leaf-ans-2 { 0%, 100% { transform: rotateY(-180deg) rotate(5deg); } 50% { transform: rotateY(-180deg) rotate(0deg) scale(1.1); } }
        @keyframes leaf-ans-3 { 0%, 100% { transform: rotate(-10deg) rotateY(-180deg); } 50% { transform: rotate(-20deg) rotateY(-180deg); } }
        @keyframes fadeInButton { to { opacity: 1; } }
        /* CSS from flower.html - END */
    </style>
</head>
<body>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Login Page -->
    <div class="login-container">
        <div id="login-fireworks-container"></div>
        <div class="login-box">
            <h1 class="login-title">Happy Birthday!</h1>
            <div class="input-group">
                <input type="text" id="username" placeholder="Username" required>
            </div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Password" required>
            </div>
            <button class="login-btn" onclick="login()">Login</button>
            <p class="error-message" id="error-message">Invalid username or password!</p>
        </div>
    </div>

    <!-- Name Input Popup -->
    <div class="name-popup" id="name-popup">
        <div class="name-popup-content">
            <h2>Masukan Nama Kamu</h2>
            <input type="text" id="guest-name" placeholder="Your name">
            <button onclick="submitName()">Lanjutkan</button>
        </div>
    </div>

    <!-- Slideshow Container -->
    <div class="slideshow-container" id="slideshow">
        <!-- Slide 1 -->
        <div class="slide">
            <h1>ðŸŽ‰ Selamat Ulang Tahun! ðŸŽ‰</h1>
            <p id="typing-text"></p>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <h1>Doa & Harapan</h1>
            <p>Ada sedikit doa dan harapan dari aku buat kamu di hari spesial ini!</p>
            <div class="message-container">
                <div class="typing-effect" id="typing-message"></div>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide">
            <h1>Satu Momen Spesial</h1>
            <p>Mungkin momen ini gak akan terulang, tapi bakal selalu jadi kenangan seru!</p>
            <div class="photo-frame">
                <img src="gwencanayo.jpg" alt="Celebratory birthday image for Bubu and Dudu with balloons and cake in a festive decoration">
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <h1>Ada Hadiah Kecil!</h1>
            <p>Jangan dilihat dari isinya ya, tapi semoga bisa bikin kamu senyum hari ini.</p>
            
            <div class="gift-box" id="gift-box" onclick="openGift()">
                <div class="gift-lid"></div>
                <div class="gift-body"></div>
                <div id="confetti-container"></div>
            </div>
            
            <p>Klik kadonya buat buka ya, semoga suka!</p>
        </div>
    </div>

    <!-- Music Control -->
    <div class="music-control" id="music-control" onclick="toggleMusic()">
        <i class="fas fa-music"></i>
    </div>

    <!-- Footer -->
    <footer>
        
    </footer>

    <!-- Template SVG Bunga (disembunyikan) -->
    <svg width="0" height="0" style="position:absolute; z-index: -1;">
        <defs>
            <g id="flower-template">
                <!-- Kelopak Bunga -->
                <g class="petals">
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB"/>
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB" transform="rotate(60)"/>
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB" transform="rotate(120)"/>
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB" transform="rotate(180)"/>
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB" transform="rotate(240)"/>
                    <path d="M0,0 C-10,-20 10,-20 0,-40 C-10,-20 -10,-20 0,0" fill="#FFC0CB" transform="rotate(300)"/>
                </g>
                <!-- Bagian tengah bunga -->
                <circle cx="0" cy="0" r="7" fill="#FFD700"/>
            </g>
        </defs>
    </svg>

    <!-- Flower Animation Overlay -->
    <div id="blooming-flower-overlay" class="not-loaded">
        <div class="night"></div>
        <div class="flowers">
            <div class="flower flower--1">
                <div class="flower__leafs flower__leafs--1">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div>
                </div>
                <div class="flower__line"><div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div><div class="flower__line__leaf flower__line__leaf--5"></div><div class="flower__line__leaf flower__line__leaf--6"></div></div>
            </div>
            <div class="flower flower--2">
                <div class="flower__leafs flower__leafs--2">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div>
                </div>
                <div class="flower__line"><div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div></div>
            </div>
            <div class="flower flower--3">
                <div class="flower__leafs flower__leafs--3">
                    <div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div>
                </div>
                <div class="flower__line"><div class="flower__line__leaf flower__line__leaf--1"></div><div class="flower__line__leaf flower__line__leaf--2"></div><div class="flower__line__leaf flower__line__leaf--3"></div><div class="flower__line__leaf flower__line__leaf--4"></div></div>
            </div>
            <div class="grow-ans" style="--d: 3s"><div class="long-g long-g--0"><div class="grow-ans" style="--d: 2.2s"><div class="leaf leaf--1"></div></div><div class="grow-ans" style="--d: 3.4s"><div class="leaf leaf--2"></div></div><div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div></div></div>
        </div>
        <a href="https://link.dana.id/danakaget?c=ssg5785e4&r=fowYEr&orderId=20250702101214747515010300166571130245956" class="final-gift-button" target="_blank">Ambil Hadiahmu</a>
    </div>

    <!-- Audio Element -->
    <audio id="bg-music" loop>
        <source src="https://github.com/hputra31/birthday-music/raw/refs/heads/main/hbd3.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Animations -->
    <div id="animations-container"></div>

    <script>
        // --- Firework Animation for Login Page ---
        const fireworksContainer = document.getElementById('login-fireworks-container');
        let fireworkInterval;

        function createFireworkParticle(x, y) {
            const particle = document.createElement('div');
            particle.style.position = 'absolute';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.width = '5px';
            particle.style.height = '5px';
            particle.style.borderRadius = '50%';
            const colors = ['#ff6b6b', '#ff8e53', '#23a6d5', '#23d5ab', '#ffcc00', '#f8f8f8'];
            particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

            fireworksContainer.appendChild(particle);

            const angle = Math.random() * Math.PI * 2;
            const speed = Math.random() * 5 + 2;
            const gravity = 0.1;
            let vx = Math.cos(angle) * speed;
            let vy = Math.sin(angle) * speed;

            const animation = particle.animate([
                { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                { transform: `translate(${vx*20}px, ${vy*20 + 150}px) scale(0)`, opacity: 0.5 }
            ], {
                duration: 1000 + Math.random() * 500,
                easing: 'ease-out'
            });
            animation.onfinish = () => particle.remove();
        }

        function launchFirework() {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.7; // Launch in the upper 70%
            for (let i = 0; i < 50; i++) {
                createFireworkParticle(x, y);
            }
        }

        // Start fireworks on page load
        fireworkInterval = setInterval(launchFirework, 1200);

// Login Function
function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    const errorMessage = document.getElementById('error-message');
    
    if (username === 'khai' && password === 'khai') {
        document.querySelector('.login-container').style.display = 'none';
        document.getElementById('name-popup').style.display = 'flex';
        clearInterval(fireworkInterval); // Stop the fireworks
    } else {
        errorMessage.style.display = 'block';
        setTimeout(() => errorMessage.style.display = 'none', 3000);
    }
}

let userName = '';
function submitName() {
    userName = document.getElementById('guest-name').value;
    document.getElementById('name-popup').style.display = 'none';
    startPresentation();
    playMusic();
    createAnimations();
}

function startPresentation() {
    const slideshow = document.getElementById('slideshow');
    slideshow.style.display = 'block';

    const slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');

        if (index === 0) {
            typeText(
                `Hai ${userName}! Selamat ulang tahun yaaa! Semoga hari ini seru banget dan jadi awal tahun yang penuh kebahagiaan buat kamu. Tetap semangat kejar semua yang kamu mau, kamu keren banget! ðŸŽ‰`,
                'typing-text',
                () => nextSlide()
            );
        } else if (index === 1) {
            typeMessages(() => nextSlide());
        } else if (index === 2) {
            createFirework();
            setTimeout(nextSlide, 8000);
        } else {
            setTimeout(nextSlide, 8000);
        }
    }

    function nextSlide() {
        currentSlide++;
        if (currentSlide >= slides.length) currentSlide = 0;
        showSlide(currentSlide);
    }

    requestAnimationFrame(() => showSlide(currentSlide));
}


        
        // Typing Effect Function
    function typeText(text, elementId, callback) {
    const element = document.getElementById(elementId);
    let charIndex = 0;
    element.textContent = '';

    const typing = setInterval(() => {
        if (charIndex < text.length) {
            element.textContent += text.charAt(charIndex);
            charIndex++;
        } else {
            clearInterval(typing);
            if (callback) callback();
        }
    }, 100);
}
        
        // Type Messages Function
        function typeMessages(callback) {
    const messages = [
        "Happy birthday sekali lagi! Semoga di umur yang baru ini, semua hal baik datang ke kamu.",
        "Semoga makin happy, sehat selalu, dan semua yang kamu cita-citakan bisa tercapai. Aamiin!",
        "Jangan pernah berhenti jadi orang baik dan sekeren sekarang ya.",
        "Terima kasih udah jadi teman yang luar biasa. Enjoy your special day!",
    ];

    let messageIndex = 0;
    const typingElement = document.getElementById('typing-message');

    function typeNextMessage() {
        const message = messages[messageIndex];
        let charIndex = 0;
        typingElement.textContent = '';

        const typing = setInterval(() => {
            if (charIndex < message.length) {
                typingElement.textContent += message.charAt(charIndex);
                charIndex++;
            } else {
                clearInterval(typing);
                setTimeout(() => {
                    // Delete message
                    const deleting = setInterval(() => {
                        if (typingElement.textContent.length > 0) {
                            typingElement.textContent = typingElement.textContent.slice(0, -1);
                        } else {
                            clearInterval(deleting);
                            messageIndex++;
                            if (messageIndex < messages.length) {
                                setTimeout(typeNextMessage, 1000);
                            } else {
                                if (callback) callback();  // SELESAI âž” callback
                            }
                        }
                    }, 50);
                }, 4000);
            }
        }, 100);
    }

    typeNextMessage();
}

        
        // Gift Box Function
      function openGift() {
            const giftBox = document.getElementById('gift-box');
            if (giftBox.classList.contains('opened')) return;
            giftBox.classList.add('opened');

            // Create confetti on the main page
            createConfetti();

            // Show and start the blooming flower animation
            setTimeout(() => {
                const overlay = document.getElementById('blooming-flower-overlay');
                overlay.classList.add('active');
                overlay.classList.remove('not-loaded');
            }, 800);
      }

        
        // Create Confetti Function
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#ff6b6b', '#ff8e53', '#23a6d5', '#23d5ab', '#ffcc00'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 200 + 'px';
                confetti.style.top = Math.random() * 200 + 'px';
                confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                
                // Animate confetti
                const animation = confetti.animate([
                    { opacity: 0, transform: 'translateY(0) rotate(0deg)' },
                    { opacity: 1, transform: 'translateY(-100px) rotate(360deg)' }
                ], {
                    duration: Math.random() * 2000 + 1000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)',
                    fill: 'forwards'
                });
                
                container.appendChild(confetti);
                
                // Remove confetti after animation
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }

        function createFirework() {
            const container = document.getElementById('confetti-container');
            const centerX = 100; // posisi relatif dalam gift box (100px dari kiri)
            const centerY = 100; // posisi relatif dalam gift box (100px dari atas)
            const colors = ['#ff6b6b', '#ff8e53', '#23a6d5', '#23d5ab', '#ffcc00'];

            for (let i = 0; i < 30; i++) {
                const spark = document.createElement('div');
                spark.style.position = 'absolute';
                spark.style.width = '6px';
                spark.style.height = '6px';
                spark.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                spark.style.left = centerX + 'px';
                spark.style.top = centerY + 'px';
                spark.style.borderRadius = '50%';
                spark.style.opacity = '1';
                container.appendChild(spark);

                const angle = Math.random() * 2 * Math.PI; // arah acak
                const distance = Math.random() * 100 + 50; // seberapa jauh partikel terlempar
                const targetX = centerX + distance * Math.cos(angle);
                const targetY = centerY + distance * Math.sin(angle);

                // Animasi partikel
                spark.animate([
                    { transform: `translate(0, 0)`, opacity: 1 },
                    { transform: `translate(${targetX - centerX}px, ${targetY - centerY}px)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 500,
                    easing: 'ease-out',
                    fill: 'forwards'
                }).onfinish = () => {
                    spark.remove(); // hapus partikel setelah animasi
                };
            }
        }

        
        // Music Functions
        function playMusic() {
            const music = document.getElementById('bg-music');
            music.play().catch(e => {
                console.log("Auto-play prevented. Please interact with the page to play music.");
            });
        }
        
        function toggleMusic() {
            const music = document.getElementById('bg-music');
            const control = document.getElementById('music-control');
            
            if (music.paused) {
                music.play();
                control.innerHTML = '<i class="fas fa-volume-up"></i>';
            } else {
                music.pause();
                control.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        }
        
        // Create Animations
        function createAnimations() {
            const container = document.getElementById('animations-container');
            const flowerTemplate = document.getElementById('flower-template');

            // Palet warna pastel untuk bunga
            const flowerColors = ['#ffadad', '#ffd6a5', '#fdffb6', '#caffbf', '#9bf6ff', '#a0c4ff', '#bdb2ff', '#ffc6ff'];


            function createFlower() {
                // Buat elemen div sebagai pembungkus
                const flowerDiv = document.createElement('div');
                flowerDiv.classList.add('flower');

                // Kloning SVG bunga dari template
                const newFlower = flowerTemplate.cloneNode(true);

                // Pilih warna acak dan terapkan ke kelopak
                const randomColor = flowerColors[Math.floor(Math.random() * flowerColors.length)];
                const petals = newFlower.querySelectorAll('.petals path');
                petals.forEach(petal => petal.setAttribute('fill', randomColor));

                
                // Buat SVG yang bisa ditampilkan
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                svg.setAttribute('viewBox', '-40 -40 80 80'); // Sesuaikan viewBox agar bunga pas
                svg.appendChild(newFlower);
                
                flowerDiv.appendChild(svg);

                // Atur ukuran acak
                const size = Math.random() * 40 + 20; // Ukuran antara 20px dan 60px
                flowerDiv.style.width = `${size}px`;
                flowerDiv.style.height = `${size}px`;
                
                // Posisi acak di seluruh layar
                flowerDiv.style.left = `${Math.random() * 100}vw`;
                flowerDiv.style.top = `${Math.random() * 100}vh`;

                container.appendChild(flowerDiv);

                // Hapus elemen bunga dari DOM setelah animasi selesai (7000ms)
                setTimeout(() => flowerDiv.remove(), 7000);
            }

            // Buat bunga baru setiap 200 milidetik agar lebih banyak
            setInterval(createFlower, 200);
        }
    </script>
</body>
</html>
