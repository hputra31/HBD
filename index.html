<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script:wght@700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            height: 100vh;
            color: white;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Login Page */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        
        .login-box {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            width: 90%;
            max-width: 400px;
            animation: fadeIn 1s;
        }
        
        .login-title {
            font-family: 'Pacifico', cursive;
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2.5rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px 20px;
            border: none;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .input-group input:focus {
            background: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            border: none;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .error-message {
            color: #ff6b6b;
            margin-top: 1rem;
            text-align: center;
            display: none;
        }
        
        /* Slideshow Container */
        .slideshow-container {
            display: none;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s;
        }
        
        .slide p {
            font-size: 1.5rem;
            max-width: 800px;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* Message Typing Animation */
        .message-container {
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 90%;
            margin: 2rem auto;
            word-wrap: break-word;
        }
        
        .typing-effect {
          border-right: 2px solid white;
          animation: blinkCursor 0.75s step-end infinite;
          overflow-wrap: break-word; /* Pastikan kata panjang terpotong */
          white-space: normal; /* Biar teks bisa wrap ke bawah */
          width: 100%; /* Ambil penuh lebar container */
          max-width: 100%;
          margin: 0 auto;
          font-size: 1.5rem; /* default font size */
          text-align: center;
}

/* Ukuran font lebih kecil di layar sempit */
@media (max-width: 768px) {
    .typing-effect {
        font-size: 1.2rem;
        padding: 0 10px; /* kasih ruang kiri-kanan */
    }
}

@media (max-width: 480px) {
    .typing-effect {
        font-size: 1rem;
        padding: 0 5px;
    }
}

        
        @keyframes blinkCursor {
            from, to { border-color: transparent; }
            50% { border-color: white; }
        }
        
        /* Gift Box */
        .gift-box {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 2rem auto;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .gift-lid {
            width: 200px;
            height: 70px;
            background: linear-gradient(to right, #ff6b6b, #ff8e53);
            border-radius: 5px 5px 0 0;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transform-origin: bottom;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .gift-body {
            width: 200px;
            height: 150px;
            background: linear-gradient(to right, #ff8e53, #ff6b6b);
            border-radius: 0 0 5px 5px;
            position: absolute;
            bottom: 0;
            left: 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .gift-bow {
            width: 100px;
            height: 20px;
            background: #23d5ab;
            position: absolute;
            top: -10px;
            left: 50px;
            z-index: 3;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .gift-knot {
            width: 20px;
            height: 20px;
            background: #23a6d5;
            position: absolute;
            top: -15px;
            left: 90px;
            z-index: 4;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .gift-box:hover .gift-lid {
            transform: translateY(-10px);
        }
        
        .gift-box.opened .gift-lid {
            transform: translateY(-70px) rotateX(-90deg);
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 1;
        }
        
        /* Photo Frame */
        .photo-frame {
            width: 300px;
            height: 300px;
            border: 10px solid white;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin: 2rem auto;
            position: relative;
            background: white;
        }
        
        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Footer */
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.3);
            font-size: 1.2rem;
            font-weight: bold;
            z-index: 100;
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Music Control */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            backdrop-filter: blur(5px);
        }
        
        .music-control i {
            font-size: 1.5rem;
            color: white;
        }

        #confetti-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          pointer-events: none;
          z-index: 999; /* pastikan di atas konten */
        }        
        
        /* Animations */

        #animations-container {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 20vh;
          overflow: hidden;
          pointer-events: none; /* biar klik nggak terganggu */
        }
        .balloon {
            position: absolute;
            width: 50px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #e60000);
            border-radius: 50%;
            animation: float 15s linear infinite;
            z-index: -1;
            opacity: 0.7;
        }
        
        .balloon::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffcc00;
            border-radius: 50%;
            top: 20%;
            right: 20%;
        }
        
        .balloon::after {
            content: '';
            position: absolute;
            width: 3px;
            height: 80px;
            background: #ffcc00;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .flower {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at center, #ff8e53, #ff6b6b);
            border-radius: 50%;
            animation: float 12s linear infinite reverse;
            z-index: -1;
            opacity: 0.8;
        }
        
        .flower::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 30px;
            background: #23a6d5;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        @keyframes float {
            0% { transform: translateY(20vh) translateX(0); } /* dari 20% layar, bukan 100% */
            25% { transform: translateY(15vh) translateX(50px); }
            50% { transform: translateY(10vh) translateX(100px); }
            75% { transform: translateY(5vh) translateX(50px); }
            100% { transform: translateY(0) translateX(0); }
        }  
        
        /* Name Input Popup */
        .name-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .name-popup-content {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            animation: popIn 0.5s;
        }
        
        .name-popup h2 {
            margin-bottom: 1.5rem;
            color: #333;
            font-family: 'Pacifico', cursive;
        }
        
        .name-popup input {
            width: 100%;
            padding: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .name-popup button {
            padding: 12px 30px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .name-popup button:hover {
            transform: scale(1.05);
        }
        
        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .slide h1 {
                font-size: 2.5rem;
            }
            
            .slide p {
                font-size: 1.2rem;
            }
            
            .photo-frame {
                width: 200px;
                height: 200px;
            }
            
            .gift-box {
                width: 170px;
                height: 170px;
            }
            .gift-lid {
                width: 170px;
                height: 60px;
            }
            .gift-body {
                width: 170px;
                height: 130px;
            }
            .gift-bow {
                width: 85px;
                left: 42px;
            }
            .gift-knot {
                left: 85px;
            }
        }
    </style>
</head>
<body>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Login Page -->
    <div class="login-container">
        <div class="login-box">
            <h1 class="login-title">Happy Birthday!</h1>
            <div class="input-group">
                <input type="text" id="username" placeholder="Username" required>
            </div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Password" required>
            </div>
            <button class="login-btn" onclick="login()">Login</button>
            <p class="error-message" id="error-message">Invalid username or password!</p>
        </div>
    </div>

    <!-- Name Input Popup -->
    <div class="name-popup" id="name-popup">
        <div class="name-popup-content">
            <h2>Masukan Nama Kamu</h2>
            <input type="text" id="guest-name" placeholder="Your name">
            <button onclick="submitName()">Lanjutkan</button>
        </div>
    </div>

    <!-- Slideshow Container -->
    <div class="slideshow-container" id="slideshow">
        <!-- Slide 1 -->
        <div class="slide">
            <h1>🎉 Selamat Ulang Tahun! 🎉</h1>
            <p id="typing-text"></p>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <h1>Sebatas Kata Kata</h1>
            <p>Semoga ulang tahunmu dipenuhi dengan kegembiraan, tawa, dan semua hal indah!</p>
            <div class="message-container">
                <div class="typing-effect" id="typing-message"></div>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide">
            <h1>Moment</h1>
            <p>Moment kocak ini mungkin ga akan terulang kembali</p>
            <div class="photo-frame">
                <img src="https://raw.githubusercontent.com/hputra31/birthday-music/refs/heads/main/gwencanayo.jpg" alt="Celebratory birthday image for Bubu and Dudu with balloons and cake in a festive decoration">
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <h1>Hadiah Kecil Kecilan</h1>
            <p>Ga banyak, cuma lumayan buat beli kopken</p>
            
            <div class="gift-box" id="gift-box" onclick="openGift()">
                <div class="gift-lid"></div>
                <div class="gift-body"></div>
                <div class="gift-bow"></div>
                <div class="gift-knot"></div>
                <div id="confetti-container"></div>
            </div>
            
            <p>Klik hadiah diatas untuk ambil hadiah, lumayan buat ngopi
</p>
        </div>
    </div>

    <!-- Music Control -->
    <div class="music-control" id="music-control" onclick="toggleMusic()">
        <i class="fas fa-music"></i>
    </div>

    <!-- Footer -->
    <footer>
        HPUTRA DEV
    </footer>

    <!-- Audio Element -->
    <audio id="bg-music" loop>
        <source src="https://github.com/hputra31/birthday-music/raw/refs/heads/main/hbd3.mp3" type="audio/mpeg">
    </audio>

    <!-- Animations -->
    <div id="animations-container"></div>

    <script>
        // Login Function
// Login Function
function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    const errorMessage = document.getElementById('error-message');
    
    if (username === 'sandari' && password === 'sandari') {
        document.querySelector('.login-container').style.display = 'none';
        document.getElementById('name-popup').style.display = 'flex';
    } else {
        errorMessage.style.display = 'block';
        setTimeout(() => errorMessage.style.display = 'none', 3000);
    }
}

let userName = '';
function submitName() {
    userName = document.getElementById('guest-name').value;
    document.getElementById('name-popup').style.display = 'none';
    startPresentation();
    playMusic();
    createAnimations();
}

function startPresentation() {
    const slideshow = document.getElementById('slideshow');
    slideshow.style.display = 'block';

    const slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');

        if (index === 0) {
            typeText(
                `Dear ${userName}, Semoga hari ini menjadi awal dari tahun yang penuh keberanian, semangat, dan kebahagiaan yang tak terbatas. Teruslah berlari mengejar mimpi-mimpimu, karena kamu luar biasa! 💪✨`,
                'typing-text',
                () => nextSlide()
            );
        } else if (index === 1) {
            typeMessages(() => nextSlide());
        } else if (index === 2) {
            createFirework();
            setTimeout(nextSlide, 8000);
        } else {
            setTimeout(nextSlide, 8000);
        }
    }

    function nextSlide() {
        currentSlide++;
        if (currentSlide >= slides.length) currentSlide = 0;
        showSlide(currentSlide);
    }

    requestAnimationFrame(() => showSlide(currentSlide));
}


        
        // Typing Effect Function
    function typeText(text, elementId, callback) {
    const element = document.getElementById(elementId);
    let charIndex = 0;
    element.textContent = '';

    const typing = setInterval(() => {
        if (charIndex < text.length) {
            element.textContent += text.charAt(charIndex);
            charIndex++;
        } else {
            clearInterval(typing);
            if (callback) callback();
        }
    }, 100);
}
        
        // Type Messages Function
        function typeMessages(callback) {
    const messages = [
        "Selamat ulang tahun! Hari ini adalah awal lembaran baru dalam hidupmu.",
        "Semoga setiap langkah di tahun ini dipenuhi semangat yang membara dan hati yang selalu bersyukur.",
        "Jangan pernah ragu mengejar mimpi, karena kamu punya kekuatan untuk meraihnya.",
        "Tetaplah menjadi pribadi luar biasa yang membawa kebahagiaan bagi semua orang di sekitarmu!",
    ];

    let messageIndex = 0;
    const typingElement = document.getElementById('typing-message');

    function typeNextMessage() {
        const message = messages[messageIndex];
        let charIndex = 0;
        typingElement.textContent = '';

        const typing = setInterval(() => {
            if (charIndex < message.length) {
                typingElement.textContent += message.charAt(charIndex);
                charIndex++;
            } else {
                clearInterval(typing);
                setTimeout(() => {
                    // Delete message
                    const deleting = setInterval(() => {
                        if (typingElement.textContent.length > 0) {
                            typingElement.textContent = typingElement.textContent.slice(0, -1);
                        } else {
                            clearInterval(deleting);
                            messageIndex++;
                            if (messageIndex < messages.length) {
                                setTimeout(typeNextMessage, 1000);
                            } else {
                                if (callback) callback();  // SELESAI ➔ callback
                            }
                        }
                    }, 50);
                }, 4000);
            }
        }, 100);
    }

    typeNextMessage();
}

        
        // Gift Box Function
      function openGift() {
          const giftBox = document.getElementById('gift-box');
          giftBox.classList.add('opened');
          
          // Create confetti
          createConfetti();

          createFirework();
          
          // Show message
          setTimeout(() => {
              alert('Happy Birthday! Semoga suka yaaa');

              // Redirect ke tab baru
              window.open('https://link.dana.id/danakaget?c=ssg5785e4&r=fowYEr&orderId=20250702101214747515010300166571130245956', '_blank');
          }, 1000);
      }

        
        // Create Confetti Function
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#ff6b6b', '#ff8e53', '#23a6d5', '#23d5ab', '#ffcc00'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 200 + 'px';
                confetti.style.top = Math.random() * 200 + 'px';
                confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                
                // Animate confetti
                const animation = confetti.animate([
                    { opacity: 0, transform: 'translateY(0) rotate(0deg)' },
                    { opacity: 1, transform: 'translateY(-100px) rotate(360deg)' }
                ], {
                    duration: Math.random() * 2000 + 1000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)',
                    fill: 'forwards'
                });
                
                container.appendChild(confetti);
                
                // Remove confetti after animation
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }

        function createFirework() {
            const container = document.getElementById('confetti-container');
            const centerX = 100; // posisi relatif dalam gift box (100px dari kiri)
            const centerY = 100; // posisi relatif dalam gift box (100px dari atas)
            const colors = ['#ff6b6b', '#ff8e53', '#23a6d5', '#23d5ab', '#ffcc00'];

            for (let i = 0; i < 30; i++) {
                const spark = document.createElement('div');
                spark.style.position = 'absolute';
                spark.style.width = '6px';
                spark.style.height = '6px';
                spark.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                spark.style.left = centerX + 'px';
                spark.style.top = centerY + 'px';
                spark.style.borderRadius = '50%';
                spark.style.opacity = '1';
                container.appendChild(spark);

                const angle = Math.random() * 2 * Math.PI; // arah acak
                const distance = Math.random() * 100 + 50; // seberapa jauh partikel terlempar
                const targetX = centerX + distance * Math.cos(angle);
                const targetY = centerY + distance * Math.sin(angle);

                // Animasi partikel
                spark.animate([
                    { transform: `translate(0, 0)`, opacity: 1 },
                    { transform: `translate(${targetX - centerX}px, ${targetY - centerY}px)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 500,
                    easing: 'ease-out',
                    fill: 'forwards'
                }).onfinish = () => {
                    spark.remove(); // hapus partikel setelah animasi
                };
            }
        }

        
        // Music Functions
        function playMusic() {
            const music = document.getElementById('bg-music');
            music.play().catch(e => {
                console.log("Auto-play prevented. Please interact with the page to play music.");
            });
        }
        
        function toggleMusic() {
            const music = document.getElementById('bg-music');
            const control = document.getElementById('music-control');
            
            if (music.paused) {
                music.play();
                control.innerHTML = '<i class="fas fa-volume-up"></i>';
            } else {
                music.pause();
                control.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        }
        
        // Create Animations
        function createAnimations() {
            const container = document.getElementById('animations-container');
            
            // Create balloons
            for (let i = 0; i < 10; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                balloon.style.left = Math.random() * 100 + 'vw';
                balloon.style.top = (Math.random() * 80) + 'vh';
                balloon.style.transform = `scale(${Math.random() * 0.5 + 0.5})`;
                balloon.style.animationDuration = `${Math.random() * 10 + 15}s`;
                balloon.style.animationDelay = `${Math.random() * 15}s`;
                container.appendChild(balloon);
            }
            
            // Create flowers
            for (let i = 0; i < 8; i++) {
                const flower = document.createElement('div');
                flower.className = 'flower';
                flower.style.left = Math.random() * 100 + 'vw';
                flower.style.transform = `scale(${Math.random() * 0.5 + 0.5}) rotate(${Math.random() * 360}deg)`;
                flower.style.animationDuration = `${Math.random() * 8 + 10}s`;
                flower.style.animationDelay = `${Math.random() * 10}s`;
                container.appendChild(flower);
            }
        }
    </script>
</body>
</html>

